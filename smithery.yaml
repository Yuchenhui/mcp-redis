# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    required: []
    properties:
      redisHost:
        type: string
        default: 127.0.0.1
        description: Redis IP or hostname
      redisPort:
        type: number
        default: 6379
        description: Redis port
      redisUsername:
        type: string
        default: default
        description: Redis username
      redisPwd:
        type: string
        default: ""
        description: Redis password
      redisSSL:
        type: boolean
        default: false
        description: Enable SSL for Redis connection
      redisSSLCAPath:
        type: string
        default: ""
        description: CA certificate path for verifying server
      redisSSLKeyfile:
        type: string
        default: ""
        description: Client private key file for authentication
      redisSSLCertfile:
        type: string
        default: ""
        description: Client certificate file for authentication
      redisSSLCertReqs:
        type: string
        default: required
        description: Certificate requirements
      redisSSLCACerts:
        type: string
        default: ""
        description: Path to trusted CA certificates file
  commandFunction:
    # A JS function that produces the CLI command based on the given config to start the MCP on stdio.
    |-
    (config) => ({
      command: 'uv',
      args: ['run', 'python', 'src/main.py'],
      env: {
        REDIS_HOST: config.redisHost,
        REDIS_PORT: String(config.redisPort),
        REDIS_USERNAME: config.redisUsername,
        REDIS_PWD: config.redisPwd,
        REDIS_SSL: String(config.redisSSL),
        REDIS_SSL_CA_PATH: config.redisSSLCAPath,
        REDIS_SSL_KEYFILE: config.redisSSLKeyfile,
        REDIS_SSL_CERTFILE: config.redisSSLCertfile,
        REDIS_SSL_CERT_REQS: config.redisSSLCertReqs,
        REDIS_SSL_CA_CERTS: config.redisSSLCACerts
      }
    })
  exampleConfig:
    redisHost: 127.0.0.1
    redisPort: 6379
    redisUsername: default
    redisPwd: ""
    redisSSL: false
    redisSSLCAPath: ""
    redisSSLKeyfile: ""
    redisSSLCertfile: ""
    redisSSLCertReqs: required
    redisSSLCACerts: ""
